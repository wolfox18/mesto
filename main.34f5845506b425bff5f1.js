(()=>{"use strict";var e={},t={openedClass:"popup_opened",closeButtonSelector:".popup__close-btn",inputSelector:".popup__input",formSelector:".popup__form",nameSelector:".popup__image-name",imageSelector:".popup__image"};function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._imageUrl=t.link,this._name=t.name,this._likes=t.likes,this._selector=n,this._isOwn=t.owner._id===o,this._id=t._id,this._userId=o,this._handleCardClick=r.handleCardClick,this._handleDeleteClick=r.handleDeleteClick,this._changeLike=r.changeLikes}var t,r;return t=e,(r=[{key:"_generateTemplate",value:function(){return document.querySelector(this._selector).content.querySelector(".element").cloneNode(!0)}},{key:"_isLikedByUser",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_addLikeListener",value:function(){var e=this;this._isLiked=this._isLikedByUser(),this._isLiked&&this._likeButtonElement.classList.add("element__like_active"),this._likeButtonElement.addEventListener("click",(function(){e._isLiked?(e._likeButtonElement.classList.remove("element__like_active"),e._likeCounter.textContent=e._changeLike(e._id,"remove"),e._isLiked=!1):(e._likeButtonElement.classList.add("element__like_active"),e._likeCounter.textContent=e._changeLike(e._id,"add"),e._isLiked=!0)})),console.log(this._name," - лайкнута = ",this._isLiked)}},{key:"_setDeleteListener",value:function(){var e=this,t=this._cardElement.querySelector(".element__delete-button");this._isOwn?t.addEventListener("click",(function(){e._handleDeleteClick(e._cardElement,e._id)})):t.style.display="none"}},{key:"_setPreviewListener",value:function(){var e=this;this._imageElement.addEventListener("click",(function(){e._handleCardClick({name:e._name,imageUrl:e._imageUrl})}))}},{key:"_setEventListeners",value:function(){this._addLikeListener(),this._setDeleteListener(),this._setPreviewListener()}},{key:"generateCard",value:function(){return this._cardElement=this._generateTemplate(),this._likeButtonElement=this._cardElement.querySelector(".element__like"),this._likeCounter=this._cardElement.querySelector(".element__like-counter"),this._imageElement=this._cardElement.querySelector(".element__image"),this._imageElement.src=this._imageUrl,this._imageElement.alt=this._name,this._cardElement.querySelector(".element__title").textContent=this._name,this._likeCounter.textContent=this._likes.length,this._setEventListeners(),this._cardElement}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=n,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._inputList=Array.from(this._formElement.querySelectorAll(t.inputSelector)),this._buttonElement=this._formElement.querySelector(t.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_checkValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t}},{key:"_hideInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),n.textContent=""}},{key:"_disableSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableSubmitButton():this._enableSubmitButton()}},{key:"_setEventListners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListners()}},{key:"resetValidation",value:function(){this._toggleButtonState()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"_clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this._clear(),this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e,t){t?this._container.prepend(e):this._container.append(e)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e){"Escape"===e.code&&i.close()},(r="_handleEscClose")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._element=document.querySelector(n),this._openedClass=t.openedClass,this._closeButton=this._element.querySelector(t.closeButtonSelector)}var t,n;return t=e,(n=[{key:"open",value:function(){this._element.classList.add(this._openedClass),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._element.classList.remove(this._openedClass),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleCloseByClick",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){this._closeButton.addEventListener("click",this.close.bind(this)),this._element.addEventListener("mousedown",this._handleCloseByClick.bind(this))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=p(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function _(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t))._formElement=r._element.querySelector(e.formSelector),r._inputList=Array.from(r._formElement.querySelectorAll(e.inputSelector)),r._handleFormSubmit=n.handleFormSubmit,r}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputData={},this._inputList.forEach((function(t){e._inputData[t.name]=t.value})),this._inputData}},{key:"setEventListeners",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()})),h(y(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){h(y(a.prototype),"close",this).call(this),this._formElement.reset()}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t))._nameElement=n._element.querySelector(e.nameSelector),n._imageElement=n._element.querySelector(e.imageSelector),n}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.imageUrl;this._nameElement.textContent=t,this._imageElement.alt=t,this._imageElement.src=n,E(S(a.prototype),"open",this).call(this)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(t.nameSelector),this._bioElement=document.querySelector(t.bioSelector),this._avatarElement=document.querySelector(t.avatarSelector)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,about:this._bioElement.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;this._nameElement.textContent=t,this._bioElement.textContent=n,this._avatarElement.src=r}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){if(e.ok)return e.json();throw new Error("Ошибка внутри API!")}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleResponse)}},{key:"patchUserInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"postNewCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function D(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return D(this,e)});function a(e,t){var n,r,o,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),l=function(e){e.preventDefault(),n._handleSubmit(),n.close()},(o="_setSubmitListener")in(r=U(n=i.call(this,e,t)))?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,n._formElement=n._element.querySelector(e.formSelector),n}return t=a,(n=[{key:"open",value:function(e){B(x(a.prototype),"open",this).call(this),this._handleSubmit=e,this._formElement.addEventListener("submit",this._setSubmitListener)}},{key:"close",value:function(){this._formElement.removeEventListener("submit",this._setSubmitListener),B(x(a.prototype),"close",this).call(this)}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s),V=new j({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{authorization:"dc2c7972-8fda-44b9-92f6-abe481f1c75c","Content-Type":"application/json"}}),F=new C({nameSelector:".profile__name",bioSelector:".profile__description",avatarSelector:".profile__avatar"});V.getUserInfo().then((function(e){console.log(e),F.setUserInfo(e)})).catch((function(e){console.log("Ошибка API при загрузке данных пользователя!",e)}));var N=new m(t,".popup_type_profile",{handleFormSubmit:function(e){V.patchUserInfo(e).then((function(e){F.setUserInfo(e)})).catch((function(e){console.log("Ошибка API при обновлении данных пользователя!",e)}))}});N.setEventListeners(),document.querySelector(".profile__edit-btn").addEventListener("click",(function(e){N.setInputValues(F.getUserInfo()),N.open()}));var H=new O(t,".popup_type_image");H.setEventListeners();var J=function(e){H.open(e)},M=new A(t,".popup_type_confirm");M.setEventListeners();var z=function(e){var t=new r(e,"#element-template",{handleCardClick:J,handleDeleteClick:function(e,t){M.open((function(){e.remove(),console.log("Типа удаление карточки №",t),V.deleteCard(t)}))},changeLikes:function(e,t){"add"===t?V.addLike(e).then((function(e){return e.likes.length})).catch((function(e){console.log("Ошибка API при установке лайка!",e)})):V.deleteLike(e).then((function(e){return e.likes.length})).catch((function(e){console.log("Ошибка API при удалении лайка!",e)}))}},"9d0db56c218a92f4247448d8");return t.generateCard()},G=new l({items:{},renderer:function(e){G.addItem(z(e))}},".elements__list");V.getInitialCards().then((function(e){console.log("Первоначальные карточки ",e),e.forEach((function(e){return G.addItem(z(e),!1)}))})).catch((function(e){console.log("Ошибка API при загрузке карточек!",e)}));var K,Q=new m(t,".popup_type_new-element",{handleFormSubmit:function(e){console.log(e),V.postNewCard(e).then((function(e){console.log("Новая карточка ",e),G.addItem(z(e),!0)})).catch((function(e){console.log("Ошибка API при загрузке карточек!",e)}))}});Q.setEventListeners(),document.querySelector(".profile__post-add").addEventListener("click",(function(t){e["card-form"].resetValidation(),Q.open()})),K={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-btn",inactiveButtonClass:"button_inactive",inputErrorClass:"popup__input_type_error"},Array.from(document.querySelectorAll(K.formSelector)).forEach((function(t){var n=new i(K,t),r=t.getAttribute("name");e[r]=n,n.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi45MTVkYTk4NTc4Yjg1ZjBmZTg2YS5qcyIsIm1hcHBpbmdzIjoibUJBQU8sSUFPTUEsRUFBaUIsQ0FBQyxFQUNsQkMsRUFBZSxDQUMxQkMsWUFBYSxlQUNiQyxvQkFBcUIsb0JBQ3JCQyxjQUFlLGdCQUNmQyxhQUFjLGVBQ2RDLGFBQWMscUJBQ2RDLGNBQWUsaUIsc0tDWlYsSUFBTUMsRUFBYixXQUNFLFdBQVlDLEVBQU1DLEVBQVVDLEVBQVdDLEksNEZBQVEsU0FDN0NDLEtBQUtDLFVBQVlMLEVBQUtNLEtBQ3RCRixLQUFLRyxNQUFRUCxFQUFLUSxLQUNsQkosS0FBS0ssT0FBU1QsRUFBS1UsTUFDbkJOLEtBQUtPLFVBQVlWLEVBQ2pCRyxLQUFLUSxPQUFTWixFQUFLYSxNQUFNQyxNQUFRWCxFQUNqQ0MsS0FBS1UsSUFBTWQsRUFBS2MsSUFDaEJWLEtBQUtXLFFBQVVaLEVBQ2ZDLEtBQUtZLGlCQUFtQmQsRUFBVWUsZ0JBQ2xDYixLQUFLYyxtQkFBcUJoQixFQUFVaUIsa0JBQ3BDZixLQUFLZ0IsWUFBY2xCLEVBQVVtQixXQUM5QixDLFFBWkgsTyxFQUFBLEcsRUFBQSxnQ0FjRSxXQUNFLE9BQU9DLFNBQ0pDLGNBQWNuQixLQUFLTyxXQUNuQmEsUUFBUUQsY0FBYyxZQUN0QkUsV0FBVSxFQUNkLEdBbkJILDRCQW9CRSxXQUFpQixXQUNmLE9BQU9yQixLQUFLSyxPQUFPaUIsTUFBSyxTQUFDQyxHQUFELE9BQVVBLEVBQUtiLE1BQVEsRUFBS0MsT0FBNUIsR0FDekIsR0F0QkgsOEJBdUJFLFdBQW1CLFdBQ2pCWCxLQUFLd0IsU0FBV3hCLEtBQUt5QixpQkFDakJ6QixLQUFLd0IsVUFDUHhCLEtBQUswQixtQkFBbUJDLFVBQVVDLElBQUksd0JBQ3hDNUIsS0FBSzBCLG1CQUFtQkcsaUJBQWlCLFNBQVMsV0FDNUMsRUFBS0wsVUFDUCxFQUFLRSxtQkFBbUJDLFVBQVVHLE9BQU8sd0JBQ3pDLEVBQUtDLGFBQWFDLFlBQWMsRUFBS2hCLFlBQVksRUFBS04sSUFBSyxVQUMzRCxFQUFLYyxVQUFXLElBRWhCLEVBQUtFLG1CQUFtQkMsVUFBVUMsSUFBSSx3QkFDdEMsRUFBS0csYUFBYUMsWUFBYyxFQUFLaEIsWUFBWSxFQUFLTixJQUFLLE9BQzNELEVBQUtjLFVBQVcsRUFFbkIsSUFDRFMsUUFBUUMsSUFBSWxDLEtBQUtHLE1BQU8saUJBQWtCSCxLQUFLd0IsU0FDaEQsR0F2Q0gsZ0NBeUNFLFdBQXFCLFdBQ2JXLEVBQW1CbkMsS0FBS29DLGFBQWFqQixjQUN6QywyQkFFRW5CLEtBQUtRLE9BQ1AyQixFQUFpQk4saUJBQWlCLFNBQVMsV0FDekMsRUFBS2YsbUJBQW1CLEVBQUtzQixhQUFjLEVBQUsxQixJQUNqRCxJQUVEeUIsRUFBaUJFLE1BQU1DLFFBQVUsTUFFcEMsR0FwREgsaUNBcURFLFdBQXNCLFdBQ3BCdEMsS0FBS3VDLGNBQWNWLGlCQUFpQixTQUFTLFdBQzNDLEVBQUtqQixpQkFBaUIsQ0FBRVIsS0FBTSxFQUFLRCxNQUFPcUMsU0FBVSxFQUFLdkMsV0FDMUQsR0FDRixHQXpESCxnQ0EwREUsV0FDRUQsS0FBS3lDLG1CQUNMekMsS0FBSzBDLHFCQUNMMUMsS0FBSzJDLHFCQUNOLEdBOURILDBCQWdFRSxXQVlFLE9BWEEzQyxLQUFLb0MsYUFBZXBDLEtBQUs0QyxvQkFDekI1QyxLQUFLMEIsbUJBQXFCMUIsS0FBS29DLGFBQWFqQixjQUFjLGtCQUMxRG5CLEtBQUsrQixhQUFlL0IsS0FBS29DLGFBQWFqQixjQUNwQywwQkFFRm5CLEtBQUt1QyxjQUFnQnZDLEtBQUtvQyxhQUFhakIsY0FBYyxtQkFDckRuQixLQUFLdUMsY0FBY00sSUFBTTdDLEtBQUtDLFVBQzlCRCxLQUFLdUMsY0FBY08sSUFBTTlDLEtBQUtHLE1BQzlCSCxLQUFLb0MsYUFBYWpCLGNBQWMsbUJBQW1CYSxZQUFjaEMsS0FBS0csTUFDdEVILEtBQUsrQixhQUFhQyxZQUFjaEMsS0FBS0ssT0FBTzBDLE9BQzVDL0MsS0FBS2dELHFCQUNFaEQsS0FBS29DLFlBQ2IsTSxvRUE3RUgsSyxzS0NGTyxJQUFNYSxFQUFiLFdBQ0UsV0FBWUMsRUFBa0JDLEksNEZBQWEsU0FDekNuRCxLQUFLb0QsYUFBZUQsRUFDcEJuRCxLQUFLcUQscUJBQXVCSCxFQUFpQkksb0JBQzdDdEQsS0FBS3VELGlCQUFtQkwsRUFBaUJNLGdCQUN6Q3hELEtBQUt5RCxXQUFhQyxNQUFNQyxLQUN0QjNELEtBQUtvRCxhQUFhUSxpQkFBaUJWLEVBQWlCM0QsZ0JBRXREUyxLQUFLNkQsZUFBaUI3RCxLQUFLb0QsYUFBYWpDLGNBQ3RDK0IsRUFBaUJZLHFCQUVwQixDLFFBWEgsTyxFQUFBLEcsRUFBQSw2QkFhRSxTQUFlQyxHQUNSQSxFQUFhQyxTQUFTQyxNQUd6QmpFLEtBQUtrRSxnQkFBZ0JILEdBRnJCL0QsS0FBS21FLGdCQUFnQkosRUFBY0EsRUFBYUssa0JBSW5ELEdBbkJILDZCQXFCRSxTQUFnQkwsRUFBY00sR0FDNUIsSUFBTUMsRUFBZXRFLEtBQUtvRCxhQUFhakMsY0FBbEIsV0FDZjRDLEVBQWFRLEdBREUsV0FHckJSLEVBQWFwQyxVQUFVQyxJQUFJNUIsS0FBS3VELGtCQUNoQ2UsRUFBYXRDLFlBQWNxQyxDQUM1QixHQTNCSCw2QkE2QkUsU0FBZ0JOLEVBQWNNLEdBQzVCLElBQU1DLEVBQWV0RSxLQUFLb0QsYUFBYWpDLGNBQWxCLFdBQ2Y0QyxFQUFhUSxHQURFLFdBR3JCUixFQUFhcEMsVUFBVUcsT0FBTzlCLEtBQUt1RCxrQkFDbkNlLEVBQWF0QyxZQUFjLEVBQzVCLEdBbkNILGtDQXFDRSxXQUNFaEMsS0FBSzZELGVBQWVsQyxVQUFVQyxJQUFJNUIsS0FBS3FELHNCQUN2Q3JELEtBQUs2RCxlQUFlVyxVQUFXLENBQ2hDLEdBeENILGlDQXlDRSxXQUNFeEUsS0FBSzZELGVBQWVsQyxVQUFVRyxPQUFPOUIsS0FBS3FELHNCQUMxQ3JELEtBQUs2RCxlQUFlVyxVQUFXLENBQ2hDLEdBNUNILDhCQThDRSxXQUNFLE9BQU94RSxLQUFLeUQsV0FBV25DLE1BQUssU0FBQ3lDLEdBQzNCLE9BQVFBLEVBQWFDLFNBQVNDLEtBQy9CLEdBQ0YsR0FsREgsZ0NBb0RFLFdBQ01qRSxLQUFLeUUsbUJBQ1B6RSxLQUFLMEUsdUJBRUwxRSxLQUFLMkUscUJBRVIsR0ExREgsK0JBNERFLFdBQW9CLFdBQ2xCM0UsS0FBSzRFLHFCQUNMNUUsS0FBS3lELFdBQVdvQixTQUFRLFNBQUNkLEdBQ3ZCQSxFQUFhbEMsaUJBQWlCLFNBQVMsV0FDckMsRUFBS2lELGVBQWVmLEdBQ3BCLEVBQUthLG9CQUNOLEdBQ0YsR0FDRixHQXBFSCw4QkFzRUUsV0FDRTVFLEtBQUsrRSxtQkFDTixHQXhFSCw2QkF5RUUsV0FDRS9FLEtBQUs0RSxvQkFDTixNLG9FQTNFSCxLLHNLQ0FPLElBQU1JLEVBQWIsV0FDRSxhQUFpQ0MsR0FBbUIsSUFBdENDLEVBQXNDLEVBQXRDQSxNQUFPQyxFQUErQixFQUEvQkEsVSw0RkFBK0IsU0FDbERuRixLQUFLb0YsT0FBU0YsRUFDZGxGLEtBQUtxRixVQUFZRixFQUNqQm5GLEtBQUtzRixXQUFhcEUsU0FBU0MsY0FBYzhELEVBQzFDLEMsUUFMSCxPLEVBQUEsRyxFQUFBLHFCQU1FLFdBQ0VqRixLQUFLc0YsV0FBV0MsVUFBWSxFQUM3QixHQVJILHlCQVNFLFdBQWMsV0FDWnZGLEtBQUt3RixTQUNMeEYsS0FBS29GLE9BQU9QLFNBQVEsU0FBQ1ksR0FDbkIsRUFBS0osVUFBVUksRUFDaEIsR0FDRixHQWRILHFCQWVFLFNBQVFDLEVBQVNDLEdBQ1hBLEVBQ0YzRixLQUFLc0YsV0FBV00sUUFBUUYsR0FFeEIxRixLQUFLc0YsV0FBV08sT0FBT0gsRUFFMUIsTSxvRUFyQkgsSyxzS0NBTyxJQUFNSSxFQUFiLFdBQ0UsV0FBWWxHLEVBQU1tRyxHQUFlLEksSUFBQSxRLDRGQUFBLFMsRUFLZixTQUFDQyxHQUNBLFdBQWJBLEVBQUlDLE1BQ04sRUFBS0MsT0FFUixHLEVBVGdDLDBCLHNCQUFBLEssdURBQUEsSyxLQUMvQmxHLEtBQUttRyxTQUFXakYsU0FBU0MsY0FBYzRFLEdBQ3ZDL0YsS0FBS29HLGFBQWV4RyxFQUFLUCxZQUN6QlcsS0FBS3FHLGFBQWVyRyxLQUFLbUcsU0FBU2hGLGNBQWN2QixFQUFLTixvQkFDdEQsQyxRQUxILE8sRUFBQSxHLEVBQUEsbUJBV0UsV0FDRVUsS0FBS21HLFNBQVN4RSxVQUFVQyxJQUFJNUIsS0FBS29HLGNBQ2pDbEYsU0FBU1csaUJBQWlCLFVBQVc3QixLQUFLc0csZ0JBQzNDLEdBZEgsbUJBZUUsV0FDRXRHLEtBQUttRyxTQUFTeEUsVUFBVUcsT0FBTzlCLEtBQUtvRyxjQUNwQ2xGLFNBQVNxRixvQkFBb0IsVUFBV3ZHLEtBQUtzRyxnQkFDOUMsR0FsQkgsaUNBbUJFLFNBQW9CTixHQUNkQSxFQUFJUSxTQUFXUixFQUFJUyxlQUNyQnpHLEtBQUtrRyxPQUVSLEdBdkJILCtCQXdCRSxXQUNFbEcsS0FBS3FHLGFBQWF4RSxpQkFBaUIsUUFBUzdCLEtBQUtrRyxNQUFNUSxLQUFLMUcsT0FDNURBLEtBQUttRyxTQUFTdEUsaUJBQ1osWUFDQTdCLEtBQUsyRyxvQkFBb0JELEtBQUsxRyxNQUVqQyxNLG9FQTlCSCxLLHF3Q0NDTyxJQUFNNEcsRUFBYixhLHFSQUFBLFUsUUFBQSxHLEVBQUEsRSwrWUFDRSxXQUFZaEgsRUFBTWlILEVBQWdCL0csR0FBVyxhLDRGQUFBLFVBQzNDLGNBQU1GLEVBQU1pSCxJQUNQekQsYUFBZSxFQUFLK0MsU0FBU2hGLGNBQWN2QixFQUFLSixjQUNyRCxFQUFLaUUsV0FBYUMsTUFBTUMsS0FDdEIsRUFBS1AsYUFBYVEsaUJBQWlCaEUsRUFBS0wsZ0JBRTFDLEVBQUt1SCxrQkFBb0JoSCxFQUFVaUgsaUJBTlEsQ0FPNUMsQ0FSSCxPLEVBQUEsRyxFQUFBLDhCQVNFLFdBQWtCLFdBS2hCLE9BSkEvRyxLQUFLZ0gsV0FBYSxDQUFDLEVBQ25CaEgsS0FBS3lELFdBQVdvQixTQUFRLFNBQUNvQyxHQUN2QixFQUFLRCxXQUFXQyxFQUFNN0csTUFBUTZHLEVBQU1DLEtBQ3JDLElBQ01sSCxLQUFLZ0gsVUFDYixHQWZILCtCQWdCRSxXQUFvQixXQUNsQmhILEtBQUtvRCxhQUFhdkIsaUJBQWlCLFVBQVUsU0FBQ21FLEdBQzVDQSxFQUFJbUIsaUJBQ0osRUFBS0wsa0JBQWtCLEVBQUtNLG1CQUM1QixFQUFLbEIsT0FDTixJQUNELHFEQUNELEdBdkJILG1CQXdCRSxXQUNFLDBDQUNBbEcsS0FBS29ELGFBQWFpRSxPQUNuQixHQTNCSCw0QkE0QkUsU0FBZUMsR0FDYnRILEtBQUt5RCxXQUFXb0IsU0FBUSxTQUFDb0MsR0FDdkJBLEVBQU1DLE1BQVFJLEVBQVVMLEVBQU03RyxLQUMvQixHQUNGLE0sb0VBaENILEdBQW1DMEYsRyxxd0NDQTVCLElBQU15QixFQUFiLGEscVJBQUEsVSxRQUFBLEcsRUFBQSxFLCtZQUNFLFdBQVkzSCxFQUFNaUgsR0FBZ0IsYSw0RkFBQSxVQUNoQyxjQUFNakgsRUFBTWlILElBQ1BXLGFBQWUsRUFBS3JCLFNBQVNoRixjQUFjdkIsRUFBS0gsY0FDckQsRUFBSzhDLGNBQWdCLEVBQUs0RCxTQUFTaEYsY0FBY3ZCLEVBQUtGLGVBSHRCLENBSWpDLENBTEgsTyxFQUFBLEcsRUFBQSxtQkFNRSxZQUF5QixJQUFsQlUsRUFBa0IsRUFBbEJBLEtBQU1vQyxFQUFZLEVBQVpBLFNBQ1h4QyxLQUFLd0gsYUFBYXhGLFlBQWM1QixFQUNoQ0osS0FBS3VDLGNBQWNPLElBQU0xQyxFQUN6QkosS0FBS3VDLGNBQWNNLElBQU1MLEVBQ3pCLHdDQUNELE0sb0VBWEgsR0FBb0NzRCxHLHNLQ0Q3QixJQUFNMkIsRUFBYixXQUNFLFdBQVk3SCxJLDRGQUFNLFNBQ2hCSSxLQUFLd0gsYUFBZXRHLFNBQVNDLGNBQWN2QixFQUFLSCxjQUNoRE8sS0FBSzBILFlBQWN4RyxTQUFTQyxjQUFjdkIsRUFBSytILGFBQy9DM0gsS0FBSzRILGVBQWlCMUcsU0FBU0MsY0FBY3ZCLEVBQUtpSSxlQUNuRCxDLFFBTEgsTyxFQUFBLEcsRUFBQSwwQkFNRSxXQUNFLE1BQU8sQ0FDTHpILEtBQU1KLEtBQUt3SCxhQUFheEYsWUFDeEI4RixNQUFPOUgsS0FBSzBILFlBQVkxRixZQUUzQixHQVhILHlCQVlFLFlBQW1DLElBQXRCNUIsRUFBc0IsRUFBdEJBLEtBQU0wSCxFQUFnQixFQUFoQkEsTUFBT0MsRUFBUyxFQUFUQSxPQUN4Qi9ILEtBQUt3SCxhQUFheEYsWUFBYzVCLEVBQ2hDSixLQUFLMEgsWUFBWTFGLFlBQWM4RixFQUMvQjlILEtBQUs0SCxlQUFlL0UsSUFBTWtGLENBQzNCLE0sb0VBaEJILEssc0tDQU8sSUFBTUMsRUFBYixXQUNFLFdBQVlwSSxJLDRGQUFNLFNBQ2hCSSxLQUFLaUksS0FBT3JJLEVBQUtzSSxRQUNqQmxJLEtBQUttSSxTQUFXdkksRUFBS3dJLE9BQ3RCLEMsUUFKSCxPLEVBQUEsRyxFQUFBLDhCQUtFLFNBQWdCQyxHQUNkLEdBQUlBLEVBQUlDLEdBQ0osT0FBT0QsRUFBSUUsT0FFYixNQUFNLElBQUlDLE1BQU0scUJBQ25CLEdBVkgsNkJBV0UsV0FDRSxPQUFPQyxNQUFNLEdBQUQsT0FBSXpJLEtBQUtpSSxLQUFULFVBQXVCLENBQy9CRyxRQUFTcEksS0FBS21JLFdBQ2JPLEtBQUsxSSxLQUFLMkksZ0JBQ2hCLEdBZkgseUJBaUJFLFdBQ0UsT0FBT0YsTUFBTSxHQUFELE9BQUl6SSxLQUFLaUksS0FBVCxhQUEwQixDQUNwQ0csUUFBU3BJLEtBQUttSSxXQUNiTyxLQUFLMUksS0FBSzJJLGdCQUNkLEdBckJILDJCQXNCRSxTQUFjQyxHQUNaLE9BQU9ILE1BQU0sR0FBRCxPQUFJekksS0FBS2lJLEtBQVQsYUFBMEIsQ0FDbENZLE9BQVEsUUFDUlQsUUFBU3BJLEtBQUttSSxTQUNkVyxLQUFNQyxLQUFLQyxVQUFVSixLQUN0QkYsS0FBSzFJLEtBQUsySSxnQkFDZCxHQTVCSCx5QkE2QkUsU0FBWU0sR0FDVixPQUFPUixNQUFNLEdBQUQsT0FBSXpJLEtBQUtpSSxLQUFULFVBQXVCLENBQy9CWSxPQUFRLE9BQ1JULFFBQVNwSSxLQUFLbUksU0FDZFcsS0FBTUMsS0FBS0MsVUFBVUMsS0FDdEJQLEtBQUsxSSxLQUFLMkksZ0JBQ2QsR0FuQ0gsd0JBb0NFLFNBQVdPLEdBQ1QsT0FBT1QsTUFBTSxHQUFELE9BQUl6SSxLQUFLaUksS0FBVCxrQkFBdUJpQixHQUFVLENBQzNDTCxPQUFRLFNBQ1JULFFBQVNwSSxLQUFLbUksV0FDZk8sS0FBSzFJLEtBQUsySSxnQkFDWixHQXpDSCxxQkEwQ0UsU0FBUU8sR0FDTixPQUFPVCxNQUFNLEdBQUQsT0FBSXpJLEtBQUtpSSxLQUFULGtCQUF1QmlCLEVBQXZCLFVBQXVDLENBQ2pETCxPQUFRLE1BQ1JULFFBQVNwSSxLQUFLbUksV0FDZk8sS0FBSzFJLEtBQUsySSxnQkFDWixHQS9DSCx3QkFnREUsU0FBV08sR0FDVCxPQUFPVCxNQUFNLEdBQUQsT0FBSXpJLEtBQUtpSSxLQUFULGtCQUF1QmlCLEVBQXZCLFVBQXVDLENBQ2pETCxPQUFRLFNBQ1JULFFBQVNwSSxLQUFLbUksV0FDZk8sS0FBSzFJLEtBQUsySSxnQkFDWixNLG9FQXJESCxLLHd3Q0NFTyxJQUFNUSxFQUFiLGEscVJBQUEsVSxRQUFBLEcsRUFBQSxFLCtZQUNJLFdBQVl2SixFQUFNbUcsR0FBYyxNLE1BQUEsTyw0RkFBQSxTLEVBSVYsU0FBQ0MsR0FDbkJBLEVBQUltQixpQkFDSixFQUFLaUMsZ0JBQ0wsRUFBS2xELE9BQ1IsRyxFQVIrQix3QixFQUFBLEVBQzVCLGNBQU90RyxFQUFNbUcsSyxzRkFDYixFQUFLM0MsYUFBZSxFQUFLK0MsU0FBU2hGLGNBQWN2QixFQUFLSixjQUZ6QixDQUcvQixDQUpMLE8sRUFBQSxHLEVBQUEsbUJBVUksU0FBSzZKLEdBQ0QseUNBQ0FySixLQUFLb0osY0FBZ0JDLEVBQ3JCckosS0FBS29ELGFBQWF2QixpQkFBaUIsU0FBVTdCLEtBQUtzSixtQkFDckQsR0FkTCxtQkFlSSxXQUNJdEosS0FBS29ELGFBQWFtRCxvQkFBb0IsU0FBVXZHLEtBQUtzSixvQkFDckQseUNBQ0gsTSxvRUFsQkwsR0FBMkN4RCxHQ2VyQ3lELEVBQU0sSUFBSXZCLEVBQUksQ0FDbEJFLFFBQVMsOENBQ1RFLFFBQVMsQ0FDUG9CLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBS2RDLEVBQVcsSUFBSWhDLEVBQVMsQ0FDNUJoSSxhQUFjLGlCQUNka0ksWUFBYSx3QkFDYkUsZUFBZ0IscUJBSWxCMEIsRUFDR0csY0FDQWhCLE1BQUssU0FBQzlJLEdBQ0xxQyxRQUFRQyxJQUFJdEMsR0FDWjZKLEVBQVNFLFlBQVkvSixFQUN0QixJQUxILE9BTVMsU0FBQ2dLLEdBQ04zSCxRQUFRQyxJQUFJLCtDQUFnRDBILEVBQzdELElBR0gsSUFBTUMsRUFBWSxJQUFJakQsRUFBY3hILEVBQWMsc0JBQXVCLENBQ3ZFMkgsaUJBQWtCLFNBQUNPLEdBQ2pCaUMsRUFDR08sY0FBY3hDLEdBQ2RvQixNQUFLLFNBQUM5SSxHQUNMNkosRUFBU0UsWUFBWS9KLEVBQ3RCLElBSkgsT0FLUyxTQUFDZ0ssR0FDTjNILFFBQVFDLElBQUksaURBQWtEMEgsRUFDL0QsR0FDSixJQUVIQyxFQUFVRSxvQkFDVjdJLFNBQ0dDLGNBQWMsc0JBQ2RVLGlCQUFpQixTQUFTLFNBQUNtRSxHQUMxQjZELEVBQVVHLGVBQWVQLEVBQVNDLGVBQ2xDRyxFQUFVSSxNQUNYLElBR0gsSUFBTUMsRUFBaUIsSUFBSTNDLEVBQWVuSSxFQUFjLHFCQUN4RDhLLEVBQWVILG9CQUNmLElBQU1JLEVBQXdCLFNBQUNsQixHQUM3QmlCLEVBQWVELEtBQUtoQixFQUNyQixFQUdLbUIsRUFBeUIsSUFBSWpCLEVBQ2pDL0osRUFDQSx1QkFFRmdMLEVBQXVCTCxvQkFHdkIsSUFBTU0sRUFBYSxTQUFDekssR0FDbEIsSUFBTTBLLEVBQVUsSUFBSTNLLEVBQ2xCQyxFQUNBLG9CQUNBLENBQ0VpQixnQkFBaUJzSixFQUNqQnBKLGtCQUFtQixTQUFDd0osRUFBYXJCLEdBQy9Ca0IsRUFBdUJILE1BQUssV0FDMUJNLEVBQVl6SSxTQUNaRyxRQUFRQyxJQUFJLDJCQUE0QmdILEdBQ3hDSyxFQUFJaUIsV0FBV3RCLEVBQ2hCLEdBQ0YsRUFDRGpJLFlBQWEsU0FBQ2lJLEVBQVF1QixHQUNMLFFBQVhBLEVBQ0ZsQixFQUNHbUIsUUFBUXhCLEdBQ1JSLE1BQUssU0FBQzlJLEdBQ0wsT0FBT0EsRUFBS1UsTUFBTXlDLE1BQ25CLElBSkgsT0FLUyxTQUFDNkcsR0FDTjNILFFBQVFDLElBQUksa0NBQW1DMEgsRUFDaEQsSUFFSEwsRUFDR29CLFdBQVd6QixHQUNYUixNQUFLLFNBQUM5SSxHQUNMLE9BQU9BLEVBQUtVLE1BQU15QyxNQUNuQixJQUpILE9BS1MsU0FBQzZHLEdBQ04zSCxRQUFRQyxJQUFJLGlDQUFrQzBILEVBQy9DLEdBRU4sR1ZoR2UsNEJVb0dwQixPQUFPVSxFQUFRTSxjQUNoQixFQUdLQyxFQUFXLElBQUk3RixFQUNuQixDQUNFRSxNQUFPLENBQUMsRUFDUkMsU0FBVSxTQUFDTSxHQUNUb0YsRUFBU0MsUUFBUVQsRUFBVzVFLEdBQzdCLEdBRUgsbUJBRUY4RCxFQUNHd0Isa0JBQ0FyQyxNQUFLLFNBQUM5SSxHQUNMcUMsUUFBUUMsSUFBSSwyQkFBNEJ0QyxHQUN4Q0EsRUFBS2lGLFNBQVEsU0FBQ1ksR0FBRCxPQUFVb0YsRUFBU0MsUUFBUVQsRUFBVzVFLElBQU8sRUFBN0MsR0FDZCxJQUxILE9BTVMsU0FBQ21FLEdBQ04zSCxRQUFRQyxJQUFJLG9DQUFxQzBILEVBQ2xELElBR0gsSUEwQjBCb0IsRUExQnBCQyxFQUFrQixJQUFJckUsRUFDMUJ4SCxFQUNBLDBCQUNBLENBQ0UySCxpQkFBa0IsU0FBQ08sR0FDakJyRixRQUFRQyxJQUFJb0YsR0FDWmlDLEVBQ0cyQixZQUFZNUQsR0FDWm9CLE1BQUssU0FBQzlJLEdBQ0xxQyxRQUFRQyxJQUFJLGtCQUFtQnRDLEdBQy9CaUwsRUFBU0MsUUFBUVQsRUFBV3pLLElBQU8sRUFDcEMsSUFMSCxPQU1TLFNBQUNnSyxHQUNOM0gsUUFBUUMsSUFBSSxvQ0FBcUMwSCxFQUNsRCxHQUNKLElBR0xxQixFQUFnQmxCLG9CQUNoQjdJLFNBQ0dDLGNBQWMsc0JBQ2RVLGlCQUFpQixTQUFTLFNBQUNtRSxHQUMxQjdHLEVBQWUsYUFBYWdNLGtCQUM1QkYsRUFBZ0JoQixNQUNqQixJQUV1QmUsRVZ0S00sQ0FDOUJ4TCxhQUFjLGVBQ2RELGNBQWUsZ0JBQ2Z1RSxxQkFBc0IsbUJBQ3RCUixvQkFBcUIsa0JBQ3JCRSxnQkFBaUIsMkJVa0tBRSxNQUFNQyxLQUFLekMsU0FBUzBDLGlCQUFpQm9ILEVBQU94TCxlQUNwRHFGLFNBQVEsU0FBQzFCLEdBQ2hCLElBQU1pSSxFQUFZLElBQUluSSxFQUFjK0gsRUFBUTdILEdBQ3RDa0ksRUFBV2xJLEVBQVltSSxhQUFhLFFBQzFDbk0sRUFBZWtNLEdBQVlELEVBQzNCQSxFQUFVRyxrQkFDWCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXdlYnBhY2svLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0td2VicGFjay8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0td2VicGFjay8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0td2VicGFjay8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0td2VicGFjay8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlLWJ0blwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbn07XHJcbmV4cG9ydCBjb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5leHBvcnQgY29uc3QgcG9wdXBzQ29uZmlnID0ge1xyXG4gIG9wZW5lZENsYXNzOiBcInBvcHVwX29wZW5lZFwiLFxyXG4gIGNsb3NlQnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19jbG9zZS1idG5cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgbmFtZVNlbGVjdG9yOiBcIi5wb3B1cF9faW1hZ2UtbmFtZVwiLFxyXG4gIGltYWdlU2VsZWN0b3I6IFwiLnBvcHVwX19pbWFnZVwiXHJcbn07XHJcbmV4cG9ydCBjb25zdCB1c2VySWQgPSBcIjlkMGRiNTZjMjE4YTkyZjQyNDc0NDhkOFwiOyIsImltcG9ydCB7IHVzZXJJZCB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBzZWxlY3RvciwgY2FsbGJhY2tzLCB1c2VySWQpIHtcclxuICAgIHRoaXMuX2ltYWdlVXJsID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pc093biA9IGRhdGEub3duZXIuX2lkID09PSB1c2VySWQ7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gY2FsbGJhY2tzLmhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gY2FsbGJhY2tzLmhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gICAgdGhpcy5fY2hhbmdlTGlrZSA9IGNhbGxiYWNrcy5jaGFuZ2VMaWtlcztcclxuICB9XHJcblxyXG4gIF9nZW5lcmF0ZVRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICB9XHJcbiAgX2lzTGlrZWRCeVVzZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcbiAgfVxyXG4gIF9hZGRMaWtlTGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl9pc0xpa2VkID0gdGhpcy5faXNMaWtlZEJ5VXNlcigpO1xyXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpXHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19saWtlX2FjdGl2ZVwiKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fY2hhbmdlTGlrZSh0aGlzLl9pZCwgXCJyZW1vdmVcIik7XHJcbiAgICAgICAgdGhpcy5faXNMaWtlZCA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19saWtlX2FjdGl2ZVwiKTtcclxuICAgICAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2NoYW5nZUxpa2UodGhpcy5faWQsIFwiYWRkXCIpO1xyXG4gICAgICAgIHRoaXMuX2lzTGlrZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMuX25hbWUsIFwiIC0g0LvQsNC50LrQvdGD0YLQsCA9IFwiLCB0aGlzLl9pc0xpa2VkKTtcclxuICB9XHJcblxyXG4gIF9zZXREZWxldGVMaXN0ZW5lcigpIHtcclxuICAgIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5lbGVtZW50X19kZWxldGUtYnV0dG9uXCJcclxuICAgICk7XHJcbiAgICBpZiAodGhpcy5faXNPd24pIHtcclxuICAgICAgY2FyZERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMuX2NhcmRFbGVtZW50LCB0aGlzLl9pZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FyZERlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9zZXRQcmV2aWV3TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgaW1hZ2VVcmw6IHRoaXMuX2ltYWdlVXJsIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2FkZExpa2VMaXN0ZW5lcigpO1xyXG4gICAgdGhpcy5fc2V0RGVsZXRlTGlzdGVuZXIoKTtcclxuICAgIHRoaXMuX3NldFByZXZpZXdMaXN0ZW5lcigpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZW5lcmF0ZVRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZVwiKTtcclxuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuZWxlbWVudF9fbGlrZS1jb3VudGVyXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2ltYWdlVXJsO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2Rpc2FibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcbiAgX2VuYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdG5lcnMoKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RuZXJzKCk7XHJcbiAgfVxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcbiAgX2NsZWFyKCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgfVxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5fY2xlYXIoKTtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgYWRkSXRlbShlbGVtZW50LCBpc0luU3RhcnQpIHtcclxuICAgIGlmIChpc0luU3RhcnQpIHtcclxuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fb3BlbmVkQ2xhc3MgPSBkYXRhLm9wZW5lZENsYXNzO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5jbG9zZUJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5jb2RlID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fb3BlbmVkQ2xhc3MpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9vcGVuZWRDbGFzcyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIF9oYW5kbGVDbG9zZUJ5Q2xpY2soZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcIm1vdXNlZG93blwiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVDbG9zZUJ5Q2xpY2suYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBwb3B1cHNTZWxlY3RvciwgY2FsbGJhY2tzKSB7XHJcbiAgICBzdXBlcihkYXRhLCBwb3B1cHNTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLmZvcm1TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGRhdGEuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gY2FsbGJhY2tzLmhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgfVxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2lucHV0RGF0YSA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2lucHV0RGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXREYXRhO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gIH1cclxuICBzZXRJbnB1dFZhbHVlcyhpbnB1dERhdGEpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IGlucHV0RGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBwb3B1cHNTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoZGF0YSwgcG9wdXBzU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5uYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKGRhdGEuaW1hZ2VTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIG9wZW4oeyBuYW1lLCBpbWFnZVVybCB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zcmMgPSBpbWFnZVVybDtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5uYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYmlvRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5iaW9TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLmF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgYWJvdXQ6IHRoaXMuX2Jpb0VsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuICBzZXRVc2VySW5mbyh7bmFtZSwgYWJvdXQsIGF2YXRhcn0pIHtcclxuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2Jpb0VsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICB0aGlzLl91cmwgPSBkYXRhLmJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gZGF0YS5oZWFkZXJzO1xyXG4gIH1cclxuICBfaGFuZGxlUmVzcG9uc2UocmVzKXtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCLQntGI0LjQsdC60LAg0LLQvdGD0YLRgNC4IEFQSSFcIik7XHJcbiAgfVxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xyXG4gIH1cclxuICBwYXRjaFVzZXJJbmZvKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKVxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG4gIHBvc3ROZXdDYXJkKGNhcmREYXRhKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZERhdGEpXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcclxuICB9XHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpe1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG4gIGFkZExpa2UoY2FyZElkKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xyXG4gIH1cclxuICBkZWxldGVMaWtlKGNhcmRJZCl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIC8vINC00YDRg9Cz0LjQtSDQvNC10YLQvtC00Ysg0YDQsNCx0L7RgtGLINGBIEFQSVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHBvcHVwU2VsZWN0b3Ipe1xyXG4gICAgICAgIHN1cGVyIChkYXRhLCBwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLmZvcm1TZWxlY3Rvcik7XHJcbiAgICB9XHJcbiAgICBfc2V0U3VibWl0TGlzdGVuZXIgPSAoKGV2dCk9PntcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICAgIG9wZW4oaGFuZGxlU3VibWl0KXtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3NldFN1Ym1pdExpc3RlbmVyKTtcclxuICAgIH1cclxuICAgIGNsb3NlKCl7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fc2V0U3VibWl0TGlzdGVuZXIpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHtcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIGZvcm1WYWxpZGF0b3JzLFxyXG4gIHBvcHVwc0NvbmZpZyxcclxuICB1c2VySWQsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuLy/Qv9C+0LTQutC70Y7Rh9Cw0LXQvCDQsNC/0LhcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aENvbmZpcm1hdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qc1wiO1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDhcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImRjMmM3OTcyLThmZGEtNDRiOS05MmY2LWFiZTQ4MWYxYzc1Y1wiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vL9C00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGJpb1NlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxufSk7XHJcblxyXG4vL9C30LDQv9C+0LvQvdGP0LXQvCDQtNCw0L3QvdGL0LzQuCDRgSDRgdC10YDQstC10YDQsFxyXG5hcGlcclxuICAuZ2V0VXNlckluZm8oKVxyXG4gIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwi0J7RiNC40LHQutCwIEFQSSDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIVwiLCBlcnIpO1xyXG4gIH0pO1xyXG5cclxuLy/QuNC30LzQtdC90LXQvdC40LUg0LTQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG5jb25zdCB1c2VyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cHNDb25maWcsIFwiLnBvcHVwX3R5cGVfcHJvZmlsZVwiLCB7XHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0RGF0YSkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5wYXRjaFVzZXJJbmZvKGlucHV0RGF0YSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcItCe0YjQuNCx0LrQsCBBUEkg0L/RgNC4INC+0LHQvdC+0LLQu9C10L3QuNC4INC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8hXCIsIGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG51c2VyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZG9jdW1lbnRcclxuICAucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKVxyXG4gIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgdXNlclBvcHVwLnNldElucHV0VmFsdWVzKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xyXG4gICAgdXNlclBvcHVwLm9wZW4oKTtcclxuICB9KTtcclxuXHJcbi8v0YDQsNCx0L7RgtCwINC/0L7Qv9Cw0L/QsCDRgSDQv9GA0LXQstGM0Y5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBzQ29uZmlnLCBcIi5wb3B1cF90eXBlX2ltYWdlXCIpO1xyXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jb25zdCBvcGVuSW1hZ2VQcmV2aWV3UG9wdXAgPSAoY2FyZERhdGEpID0+IHtcclxuICBwb3B1cFdpdGhJbWFnZS5vcGVuKGNhcmREYXRhKTtcclxufTtcclxuXHJcbi8v0YDQsNCx0L7RgtCwINC/0L7Qv9Cw0L/QsCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgcG9wdXBDb25maXJtRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXHJcbiAgcG9wdXBzQ29uZmlnLFxyXG4gIFwiLnBvcHVwX3R5cGVfY29uZmlybVwiXHJcbik7XHJcbnBvcHVwQ29uZmlybURlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0YTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRhdGEsXHJcbiAgICBcIiNlbGVtZW50LXRlbXBsYXRlXCIsXHJcbiAgICB7XHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogb3BlbkltYWdlUHJldmlld1BvcHVwLFxyXG4gICAgICBoYW5kbGVEZWxldGVDbGljazogKGNhcmRFbGVtZW50LCBjYXJkSWQpID0+IHtcclxuICAgICAgICBwb3B1cENvbmZpcm1EZWxldGVDYXJkLm9wZW4oKCkgPT4ge1xyXG4gICAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcItCi0LjQv9CwINGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDihJZcIiwgY2FyZElkKTtcclxuICAgICAgICAgIGFwaS5kZWxldGVDYXJkKGNhcmRJZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNoYW5nZUxpa2VzOiAoY2FyZElkLCBhY3Rpb24pID0+IHtcclxuICAgICAgICBpZiAoYWN0aW9uID09PSBcImFkZFwiKSB7XHJcbiAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgLmFkZExpa2UoY2FyZElkKVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiBkYXRhLmxpa2VzLmxlbmd0aDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcItCe0YjQuNCx0LrQsCBBUEkg0L/RgNC4INGD0YHRgtCw0L3QvtCy0LrQtSDQu9Cw0LnQutCwIVwiLCBlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5kZWxldGVMaWtlKGNhcmRJZClcclxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gZGF0YS5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLQntGI0LjQsdC60LAgQVBJINC/0YDQuCDRg9C00LDQu9C10L3QuNC4INC70LDQudC60LAhXCIsIGVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB1c2VySWRcclxuICApO1xyXG4gIHJldHVybiBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuLy/RgdC+0LfQtNCw0L3QuNC1INC/0LXRgNCy0L7QvdCw0YfQsNC70YzQvdGL0YUg0LrQsNGA0YLQvtGH0LXQulxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiB7fSxcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmVsZW1lbnRzX19saXN0XCJcclxuKTtcclxuYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwi0J/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90YvQtSDQutCw0YDRgtC+0YfQutC4IFwiLCBkYXRhKTtcclxuICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4gY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pLCBmYWxzZSkpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwi0J7RiNC40LHQutCwIEFQSSDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDQutCw0YDRgtC+0YfQtdC6IVwiLCBlcnIpO1xyXG4gIH0pO1xyXG5cclxuLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgbmV3RWxlbWVudFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgcG9wdXBzQ29uZmlnLFxyXG4gIFwiLnBvcHVwX3R5cGVfbmV3LWVsZW1lbnRcIixcclxuICB7XHJcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXREYXRhKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGlucHV0RGF0YSk7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5wb3N0TmV3Q2FyZChpbnB1dERhdGEpXHJcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwi0J3QvtCy0LDRjyDQutCw0YDRgtC+0YfQutCwIFwiLCBkYXRhKTtcclxuICAgICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChkYXRhKSwgdHJ1ZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCLQntGI0LjQsdC60LAgQVBJINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INC60LDRgNGC0L7Rh9C10LohXCIsIGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH1cclxuKTtcclxubmV3RWxlbWVudFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmRvY3VtZW50XHJcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcG9zdC1hZGRcIilcclxuICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgIGZvcm1WYWxpZGF0b3JzW1wiY2FyZC1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gICAgbmV3RWxlbWVudFBvcHVwLm9wZW4oKTtcclxuICB9KTtcclxuLy8g0JLQutC70Y7Rh9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuFxyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7XHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpO1xyXG4iXSwibmFtZXMiOlsiZm9ybVZhbGlkYXRvcnMiLCJwb3B1cHNDb25maWciLCJvcGVuZWRDbGFzcyIsImNsb3NlQnV0dG9uU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwibmFtZVNlbGVjdG9yIiwiaW1hZ2VTZWxlY3RvciIsIkNhcmQiLCJkYXRhIiwic2VsZWN0b3IiLCJjYWxsYmFja3MiLCJ1c2VySWQiLCJ0aGlzIiwiX2ltYWdlVXJsIiwibGluayIsIl9uYW1lIiwibmFtZSIsIl9saWtlcyIsImxpa2VzIiwiX3NlbGVjdG9yIiwiX2lzT3duIiwib3duZXIiLCJfaWQiLCJfdXNlcklkIiwiX2hhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiX2NoYW5nZUxpa2UiLCJjaGFuZ2VMaWtlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJzb21lIiwibGlrZSIsIl9pc0xpa2VkIiwiX2lzTGlrZWRCeVVzZXIiLCJfbGlrZUJ1dHRvbkVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiX2xpa2VDb3VudGVyIiwidGV4dENvbnRlbnQiLCJjb25zb2xlIiwibG9nIiwiY2FyZERlbGV0ZUJ1dHRvbiIsIl9jYXJkRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsIl9pbWFnZUVsZW1lbnQiLCJpbWFnZVVybCIsIl9hZGRMaWtlTGlzdGVuZXIiLCJfc2V0RGVsZXRlTGlzdGVuZXIiLCJfc2V0UHJldmlld0xpc3RlbmVyIiwiX2dlbmVyYXRlVGVtcGxhdGUiLCJzcmMiLCJhbHQiLCJsZW5ndGgiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja1ZhbGlkaXR5IiwiX3NldEV2ZW50TGlzdG5lcnMiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImlubmVySFRNTCIsIl9jbGVhciIsIml0ZW0iLCJlbGVtZW50IiwiaXNJblN0YXJ0IiwicHJlcGVuZCIsImFwcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImNvZGUiLCJjbG9zZSIsIl9lbGVtZW50IiwiX29wZW5lZENsYXNzIiwiX2Nsb3NlQnV0dG9uIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJiaW5kIiwiX2hhbmRsZUNsb3NlQnlDbGljayIsIlBvcHVwV2l0aEZvcm0iLCJwb3B1cHNTZWxlY3RvciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dERhdGEiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsImlucHV0RGF0YSIsIlBvcHVwV2l0aEltYWdlIiwiX25hbWVFbGVtZW50IiwiVXNlckluZm8iLCJfYmlvRWxlbWVudCIsImJpb1NlbGVjdG9yIiwiX2F2YXRhckVsZW1lbnQiLCJhdmF0YXJTZWxlY3RvciIsImFib3V0IiwiYXZhdGFyIiwiQXBpIiwiX3VybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJFcnJvciIsImZldGNoIiwidGhlbiIsIl9oYW5kbGVSZXNwb25zZSIsInVzZXJEYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkRGF0YSIsImNhcmRJZCIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsIl9oYW5kbGVTdWJtaXQiLCJoYW5kbGVTdWJtaXQiLCJfc2V0U3VibWl0TGlzdGVuZXIiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm8iLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiZXJyIiwidXNlclBvcHVwIiwicGF0Y2hVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwic2V0SW5wdXRWYWx1ZXMiLCJvcGVuIiwicG9wdXBXaXRoSW1hZ2UiLCJvcGVuSW1hZ2VQcmV2aWV3UG9wdXAiLCJwb3B1cENvbmZpcm1EZWxldGVDYXJkIiwiY3JlYXRlQ2FyZCIsIm5ld0NhcmQiLCJjYXJkRWxlbWVudCIsImRlbGV0ZUNhcmQiLCJhY3Rpb24iLCJhZGRMaWtlIiwiZGVsZXRlTGlrZSIsImdlbmVyYXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImdldEluaXRpYWxDYXJkcyIsImNvbmZpZyIsIm5ld0VsZW1lbnRQb3B1cCIsInBvc3ROZXdDYXJkIiwicmVzZXRWYWxpZGF0aW9uIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==